<?xml version="1.0" ?> 
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

<!--chassis macro -->
  <xacro:macro name="chassis" params="name">
    <link name="${name}">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="8.6"/>
      <inertia ixx="0.121" iyy="0.1235" izz="0.173" ixy="0" iyz="0" ixz="0.00024"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="file://$(find rhacobot_description)/meshes/chassis.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="file://$(find rhacobot_description)/meshes/chassis.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    </link>
    <joint name="${name}_joint" type="fixed">
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <parent link="base_link"/>
      <child link="${name}"/>
    </joint>
  </xacro:macro>

<!-- wheel macro -->
  <xacro:macro name="wheel" params="name joint_origin_xyz joint_rpy">
    <link name="${name}">
      <inertial>
        <origin xyz="0 0.05 0" rpy="0 0 0"/>
        <mass value="1.2"/>
        <inertia ixx="0.021235" iyy="0.041938" izz="0.021235" ixy="0" iyz="0" ixz="0"/>
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/wheel.stl" scale="0.001 0.001 0.001"/>
        </geometry>
        <material name="black"/>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/wheel.stl" scale="0.001 0.001 0.001"/>
        </geometry>
      </collision>
    </link>
    <joint name="${name}_joint" type="continuous">
      <origin xyz="${joint_origin_xyz}" rpy="${joint_rpy}"/>
      <parent link="base_link"/>
      <child link="${name}"/>
      <axis xyz="0 1 0"/>
    </joint>
  </xacro:macro>

<!-- tail_joint_a macro -->
  <xacro:macro name="tail_joint_a" params="name joint_origin_xyz joint_rpy">
    <link name="${name}">
      <inertial>
        <origin xyz="0.0397 -0.0015 0.0726" rpy="0 0 0"/>
        <mass value="0.6"/>
        <inertia ixx="0.00587" iyy="0.003137" izz="0.004066" ixy="-8.7e-05" iyz="1.4e-05" ixz="-0.000113"/>
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/tail_joint_a.stl" scale="0.001 0.001 0.001"/>
        </geometry>
        <material name="orange"/>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/tail_joint_a.stl" scale="0.001 0.001 0.001"/>
        </geometry>
      </collision>
    </link>
    <joint name="${name}_joint" type="continuous">
      <origin xyz="${joint_origin_xyz}" rpy="${joint_rpy}"/>
      <parent link="base_link"/>
      <child link="${name}"/>
      <axis xyz="0 0 1"/>
    </joint>
  </xacro:macro>

  <!-- tail_joint_b macro -->
  <xacro:macro name="tail_joint_b" params="name joint_origin_xyz joint_rpy">
    <link name="${name}">
      <inertial>
        <origin xyz="-0.05621904802267569 0.07590565725710019 -1.5844244384763395e-06" rpy="0 0 0"/>
        <mass value="2.4"/>
        <inertia ixx="0.020039" iyy="0.085189" izz="0.093057" ixy="0.000861" iyz="0" ixz="3e-06"/>
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/tail_joint_b.stl" scale="0.001 0.001 0.001"/>
        </geometry>
        <material name="blue"/>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/tail_joint_b.stl" scale="0.001 0.001 0.001"/>
        </geometry>
      </collision>
    </link>
    <joint name="${name}_joint" type="continuous">
      <origin xyz="${joint_origin_xyz}" rpy="${joint_rpy}"/>
      <parent link="tail_joint_a"/>
      <child link="${name}"/>
      <axis xyz="0 1 0"/>
    </joint>
  </xacro:macro>

    <!-- tail_joint_c macro -->
  <xacro:macro name="tail_joint_c" params="name joint_origin_xyz joint_rpy">
    <link name="${name}">
        <inertial>
            <origin xyz="-0.10172534531154215 0.05545870393255971 0.005701632728430342" rpy="0 0 0"/>
            <mass value="3.887618406244789"/>
            <inertia ixx="0.003221" iyy="0.03439" izz="0.034039" ixy="-0.00117" iyz="6.6e-05" ixz="0.00276"/>
        </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/tail_joint_c.stl" scale="0.001 0.001 0.001"/>
        </geometry>
        <material name="blue"/>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/tail_joint_c.stl" scale="0.001 0.001 0.001"/>
        </geometry>
      </collision>
    </link>
    <joint name="${name}_joint" type="continuous">
      <origin xyz="${joint_origin_xyz}" rpy="${joint_rpy}"/>
      <parent link="tail_joint_b"/>
      <child link="${name}"/>
      <axis xyz="0 1 0"/>
    </joint>
  </xacro:macro>

    <!-- tail_wheel macro -->
  <xacro:macro name="tail_wheel" params="name joint_origin_xyz joint_rpy">
    <link name="${name}">
    <inertial>
        <origin xyz="-4.802598116970813e-07 -0.015999999880835572 -2.4656365327224705e-07" rpy="0 0 0"/>
        <mass value="7.002535975446206"/>
        <inertia ixx="0.022076" iyy="0.018567" izz="0.022076" ixy="0.0" iyz="0" ixz="0"/>
    </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/tail_wheel.stl" scale="0.001 0.001 0.001"/>
        </geometry>
        <material name="green"/>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <mesh filename="file://$(find rhacobot_description)/meshes/tail_wheel.stl" scale="0.001 0.001 0.001"/>
        </geometry>
      </collision>
    </link>
    <joint name="${name}_joint" type="continuous">
      <origin xyz="${joint_origin_xyz}" rpy="${joint_rpy}"/>
      <parent link="tail_joint_c"/>
      <child link="${name}"/>
      <axis xyz="0 1 0"/>
    </joint>
  </xacro:macro>

</robot>